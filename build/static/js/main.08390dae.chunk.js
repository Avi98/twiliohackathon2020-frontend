(this["webpackJsonpsocial-media-frontend-b2c"]=this["webpackJsonpsocial-media-frontend-b2c"]||[]).push([[0],{121:function(e,t,a){e.exports=a.p+"static/media/default-profile.782adc2b.png"},133:function(e,t,a){e.exports=a(164)},138:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),i=a.n(o),s=a(75),l=a(76),c=a(126),u=a(123),d=a(16),m=(a(138),d.a.article.withConfig({displayName:"styles__Container",componentId:"sc-1qqttjd-0"})(["width:60%;border-radius:0.8rem;display:flex;box-shadow:0 2rem 2.4rem rgba(0,0,0,0.1);background-color:var(--base-white-color);@media (max-width:768px){--base-title-color:#feeeee;flex-direction:column;background-color:var(--base-green-color);width:100%;height:100%;align-items:center;justify-content:center;}"])),p=d.a.div.withConfig({displayName:"styles__ImageSection",componentId:"sc-1qqttjd-1"})(["width:50%;background-color:var(--base-green-color);"]),g=d.a.section.withConfig({displayName:"styles__Section",componentId:"sc-1qqttjd-2"})(["color:var(--base-title-color);background-color:var(--c);margin-left:2em;@media (max-width:768px){background-color:var(--base-green-color);}>h2{font-size:3.1em;font-weight:400;}>h3{font-size:2.4em;font-weight:400;}"]),h=d.a.button.withConfig({displayName:"styles__SubmitButton",componentId:"sc-1qqttjd-3"})(["background-color:var(--base-title-color);color:var(--base-white-color);padding:0.5rem 4.5rem;font-size:1em;font-weight:200;margin:40px 0 0 0;cursor:pointer;@media (max-width:768px){background-color:var(--base-button-color);color:var(--base-title-color);}&&&{>svg{height:20px;width:20px;}}"]),f=d.a.div.withConfig({displayName:"styles__FormCol",componentId:"sc-1qqttjd-4"})(["display:flex;flex-direction:column;margin-bottom:1em;.message{font-size:0.7em;}.link{font-weight:600;text-decoration:underline;cursor:pointer;}"]),v=a(202),b=a(42),w=Object(n.createContext)({loading:!1,showLoading:void 0,showSuccessMessage:"",setShowSuccessMessage:void 0,toasterType:"info",setToasterType:void 0});w.displayName="UITriggerContext";var E=function(e){var t=e.children,a=Object(n.useState)(!1),o=Object(b.a)(a,2),i=o[0],s=o[1],l=Object(n.useState)(""),c=Object(b.a)(l,2),u=c[0],d=c[1],m=Object(n.useState)(""),p=Object(b.a)(m,2),g=p[0],h=p[1];return r.a.createElement(w.Provider,{value:{loading:i,showLoading:s,showSuccessMessage:u,setShowSuccessMessage:d,toasterType:g,setToasterType:h}},t)},S=function(){var e=Object(n.useContext)(w),t=e.loading,a=e.showLoading;return{loading:t,toggleLoading:function(e){return a&&a(e)},showSuccessMessage:e.showSuccessMessage,setShowSuccessMessage:e.setShowSuccessMessage,toasterType:e.toasterType,setToasterType:e.setToasterType}},y=a(196),x=function(e){var t=e.label,a=e.onClick,n=e.type,o=void 0===n?"submit":n,i=S().loading;return r.a.createElement(h,{type:o,onClick:a,disabled:i},i?r.a.createElement(y.a,{size:20}):t)},_=function(e){var t=e.updateEmail,a=e.updatePassword,n=e.updateConfirmPassWord,o=e.updateUsername,i=e.updateShowLogin,s=e.submitLoginForm,l=e.state;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{id:"username",label:"User Name",value:l.username,onChange:function(e){return o(e.target.value)}}),r.a.createElement(v.a,{id:"email",label:"E-mail address",type:"email",value:l.email,onChange:function(e){return t(e.target.value)}}),r.a.createElement(v.a,{id:"password",label:"Password",type:"password",value:l.password,onChange:function(e){return a(e.target.value)}}),r.a.createElement(v.a,{id:"password",label:"confirm Password",value:l.confirmPassword,onChange:function(e){return n(e.target.value)}}),r.a.createElement(x,{label:"Sign Up",onClick:s}),r.a.createElement("p",{className:"message"},"Already have an account? ",r.a.createElement("span",{className:"link",onClick:i},"Log in")," "))},k=function(e){var t=e.updatePassword,a=e.updateUsername,n=e.updateShowSignUp,o=e.state,i=e.submitSignIn;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{id:"userName",label:"User Name",value:o.username,onChange:function(e){return a(e.target.value)}}),r.a.createElement(v.a,{id:"password",label:"Password",type:"password",value:o.password,onChange:function(e){return t(e.target.value)}}),r.a.createElement(x,{label:"Log In",onClick:i}),r.a.createElement("p",{className:"message"},"Don't have Account? ",r.a.createElement("span",{className:"link",onClick:n},"Sign Up")," "))},O=a(50),j=a.n(O),P=a(91),C=a(23),U=a(117),I=a.n(U).a.create({baseURL:"".concat("https://whispering-hollows-69916.herokuapp.com","/api"),timeout:1e3,headers:{"X-Custom-Header":"foobar","Content-Type":"application/json"}}),T=function(){function e(t){var a=this;Object(s.a)(this,e),this.header={},this.getToken=function(){a.header&&(a.header=localStorage.getItem("token")?{headers:{Authorization:"token ".concat(localStorage.getItem("token"))}}:{})},this.header=t}return Object(l.a)(e,[{key:"post",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getToken(),I.post(e,t,Object(C.a)({},this.header,{},a)).then((function(e){return e.data}),(function(e){return console.error(e)}))}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getToken(),I.get(e,Object(C.a)({},this.header,{},t)).then((function(e){return e.data}),(function(e){return e}))}},{key:"put",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getToken(),I.put(e,t,Object(C.a)({},this.header,{},a)).then((function(e){return e.data}),(function(e){return e}))}}]),e}(),F=(localStorage.getItem("token")&&"token ".concat(localStorage.getItem("token")),new T),N=new T(!0),L=a(74),M={email:"",password:"",confirmPassword:"",username:""},A=Object(C.a)({},M,{showLogin:!1,showSignUp:!0});function q(e,t){switch(t.type){case"UPDATE_EMAIL":return Object(C.a)({},e,{email:t.value});case"UPDATE_PASSWORD":return Object(C.a)({},e,{password:t.value});case"UPDATE_CONFIRM_PASSWORD":return Object(C.a)({},e,{confirmPassword:t.value});case"UPDATE_USERNAME":return Object(C.a)({},e,{username:t.value});case"SHOW_LOGIN":return Object(C.a)({},e,{showLogin:!0,showSignUp:!1});case"SHOW_SIGNUP":return Object(C.a)({},e,{showSignUp:!0,showLogin:!1});case"RESET_FORM":return Object(C.a)({},e,{},M);default:return e}}var D=function(){var e=function(){var e=Object(n.useReducer)(q,A),t=Object(b.a)(e,2),a=t[0],r=t[1],o=S(),i=o.toggleLoading,s=o.setToasterType,l=o.setShowSuccessMessage,c=Object(n.useState)(null),u=c.profileData,d=c.setProfileData,m=Object(L.b)(),p=function(){return r({type:"SHOW_LOGIN",value:null})},g=function(){var e=Object(P.a)(j.a.mark((function e(){var t,n,o,c,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),t=a.username,n=a.email,o=a.password,c={username:t,email:n,password:o},e.prev=3,e.next=6,F.post("/register",c);case 6:u=e.sent,i(!1),u.token&&(p(),s&&s("success"),l&&l("Account Created Successfully "),localStorage.setItem("token",u.token),r({type:"RESET_FORM",value:null})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("api request error",e.t0),i(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return{state:a,updateEmail:function(e){return r({type:"UPDATE_EMAIL",value:e})},updatePassword:function(e){return r({type:"UPDATE_PASSWORD",value:e})},updateConfirmPassWord:function(e){return r({type:"UPDATE_CONFIRM_PASSWORD",value:e})},updateUsername:function(e){return r({type:"UPDATE_USERNAME",value:e})},updateShowLogin:p,updateShowSignUp:function(){return r({type:"SHOW_SIGNUP",value:null})},submitLoginForm:g,submitSignIn:function(){var e=Object(P.a)(j.a.mark((function e(){var t,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),t=a.username,a.email,n=a.password,r={username:t,password:n},e.prev=3,i(!1),e.next=7,F.post("/login",r).then(function(){var e=Object(P.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.token){e.next=7;break}return a={headers:{Authorization:"token ".concat(t.token)}},localStorage.setItem("token",t.token),e.next=5,F.get("/profile",a);case 5:(n=e.sent).profile?(d(n.profile),m("user/home")):m("user/profile");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),i(!1),console.error("api login error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),profileData:u}}(),t=e.updateEmail,a=e.updatePassword,o=e.updateConfirmPassWord,i=e.updateUsername,s=e.updateShowLogin,l=e.updateShowSignUp,c=e.state,u=e.submitLoginForm,d=e.submitSignIn;return r.a.createElement(m,null,r.a.createElement(p,null),r.a.createElement(g,null,r.a.createElement(f,null,r.a.createElement("h2",null,"Welcome to our community"),r.a.createElement("h3",null,"Lets create an account"),c.showSignUp?r.a.createElement(_,{state:c,updateEmail:t,updatePassword:a,updateConfirmPassWord:o,updateUsername:i,updateShowLogin:s,updateShowSignUp:l,submitLoginForm:u}):r.a.createElement(k,{state:c,updateEmail:t,updatePassword:a,updateConfirmPassWord:o,updateUsername:i,updateShowLogin:s,updateShowSignUp:l,submitSignIn:d}))))},W=a(203),R=a(205);function z(e){return r.a.createElement(W.a,Object.assign({elevation:6,variant:"filled"},e))}function B(){var e=S();return r.a.createElement(R.a,{open:""!==e.showSuccessMessage,autoHideDuration:1e3,onClose:function(){return e.setShowSuccessMessage&&e.setShowSuccessMessage("")}},function(){switch(e.toasterType){case"success":return r.a.createElement(z,{severity:"success"},e.showSuccessMessage);case"info":return r.a.createElement(z,{severity:"info"},e.showSuccessMessage);case"warning":return r.a.createElement(z,{severity:"warning"},e.showSuccessMessage);case"error":return r.a.createElement(z,{severity:"error"},e.showSuccessMessage)}}())}var H=a(124),G=a(94),J=d.a.div.withConfig({displayName:"imageUploadstyles__AvatarContainer",componentId:"sc-1g3mbi1-0"})(["position:relative;max-width:50px;"]),V=d.a.div.withConfig({displayName:"imageUploadstyles__EditIcon",componentId:"sc-1g3mbi1-1"})(["position:absolute;left:70px;z-index:2;>input{height:110px;width:140px;position:absolute;right:0px;opacity:0;}>label{display:inline-block;width:34px;height:34px;margin-bottom:0;border-radius:100%;background:#FFFFFF;border:1px solid transparent;box-shadow:0px 2px 4px 0px rgba(0,0,0,0.12);cursor:pointer;font-weight:normal;transition:all .2s ease-in-out;&:hover{background:#f1f1f1;border-color:#d6d6d6;}::after{content:\"\f040\";font-family:'FontAwesome';color:#757575;position:absolute;top:10px;left:0;right:0;text-align:center;margin:auto;}}"]),X=d.a.div.withConfig({displayName:"imageUploadstyles__Preview",componentId:"sc-1g3mbi1-2"})(["width:92px;height:92px;position:relative;border-radius:100%;border:6px solid #F8F8F8;box-shadow:0px 2px 4px 0px rgba(0,0,0,0.1);"]),Y=d.a.img.withConfig({displayName:"imageUploadstyles__SelectedImg",componentId:"sc-1g3mbi1-3"})(["border-radius:100%;background-size:cover;background-repeat:no-repeat;background-position:center;height:100%;width:100%;}"]),$=a(121),K=a.n($),Q=function(e){var t=e.formik,a=Object(n.useState)({file:{},imagePreviewUrl:null}),o=Object(b.a)(a,2),i=o[0],s=o[1];return r.a.createElement(J,null,r.a.createElement(V,null,r.a.createElement("input",{accept:".png, jpg, .jpeg",type:"file",onChange:function(e){var a=t.setFieldValue;e.preventDefault();var n=new FileReader,r=e.target.files[0];n.onloadend=function(){"string"===typeof n.result&&s({file:r,imagePreviewUrl:n.result})},a("image",r),n.readAsDataURL(r)}}),r.a.createElement("label",null)),r.a.createElement(X,null,r.a.createElement(Y,{src:i.imagePreviewUrl?i.imagePreviewUrl:K.a,alt:" profile image"})))},Z=a(201),ee=a(206);function te(){var e=Object(G.a)(["\n    display:grid;\n    grid-template-rows: 2fr 1fr 1fr 1fr 1fr 1fr 2fr;\n    justify-content:space-between;\n    align-items:center;\n    grid-gap: 20px;\n    .image-position{\n        margin-left: 20px;\n    }\n"]);return te=function(){return e},e}function ae(){var e=Object(G.a)(["\n    padding: 10%;\n    justify-content: center;\n    color: var(--base-title-color);\n    display:flex;\n    flex-direction: column;\n    align-items:center;\n    justify-content:center;\n    align-self: center;\n    @media only screen and (min-width: 600px) {\n        width: 450px;\n    }\n    \n"]);return ae=function(){return e},e}var ne=Object(d.a)(m)(ae()),re=d.a.form(te()),oe=Object(Z.a)((function(e){return Object(ee.a)({root:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"650px"}})})),ie=function(e){var t,a,n,o,i,s,l,c,u,d,m,p,g,h,f,b,w,E,S,y,_=e.formik,k=oe();return r.a.createElement(ne,null,r.a.createElement("h2",null,"Upload Your Profile"),r.a.createElement(re,{className:k.root,onSubmit:_.handleSubmit},r.a.createElement("div",{className:"image-position"},r.a.createElement(Q,{formik:_})),r.a.createElement(v.a,Object.assign({required:!0,id:"standard-required",error:Boolean((null===(t=_.touched)||void 0===t?void 0:t.first_name)&&(null===(a=_.errors)||void 0===a?void 0:a.first_name)),helperText:(null===(n=_.touched)||void 0===n?void 0:n.first_name)&&(null===(o=_.errors)||void 0===o?void 0:o.first_name),fullWidth:!0,label:"First Name"},_.getFieldProps("first_name"))),r.a.createElement(v.a,Object.assign({required:!0,id:"standard-required2",error:Boolean((null===(i=_.touched)||void 0===i?void 0:i.last_name)&&(null===(s=_.errors)||void 0===s?void 0:s.last_name)),helperText:(null===(l=_.touched)||void 0===l?void 0:l.last_name)&&(null===(c=_.errors)||void 0===c?void 0:c.last_name),fullWidth:!0,label:"Last Name"},_.getFieldProps("last_name"))),r.a.createElement(v.a,Object.assign({required:!0,type:"number",id:"standard-required",error:Boolean((null===(u=_.touched)||void 0===u?void 0:u.mobile)&&(null===(d=_.errors)||void 0===d?void 0:d.mobile)),helperText:(null===(m=_.touched)||void 0===m?void 0:m.mobile)&&(null===(p=_.errors)||void 0===p?void 0:p.mobile),fullWidth:!0,label:"Mobile"},_.getFieldProps("mobile"))),r.a.createElement(v.a,Object.assign({id:"standard-required",fullWidth:!0,label:"Current Location",error:(null===(g=_.touched)||void 0===g?void 0:g.current_location)&&Boolean(null===(h=_.errors)||void 0===h?void 0:h.current_location),helperText:(null===(f=_.touched)||void 0===f?void 0:f.current_location)&&(null===(b=_.errors)||void 0===b?void 0:b.current_location)},_.getFieldProps("current_location"))),r.a.createElement(v.a,Object.assign({id:"standard-required2",fullWidth:!0,label:"Description",error:Boolean((null===(w=_.touched)||void 0===w?void 0:w.description)&&(null===(E=_.errors)||void 0===E?void 0:E.description)),helperText:(null===(S=_.touched)||void 0===S?void 0:S.description)&&(null===(y=_.errors)||void 0===y?void 0:y.description)},_.getFieldProps("description"))),r.a.createElement(x,{label:"Submit",type:"submit"})))},se=a(51),le=se.a({first_name:se.b().max(20,"Must be not more than 20 letters").required(" name is required"),last_name:se.b().max(20,"Must be not more than 20 letters").required(" name is required"),mobile:se.b().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Invalid mobile number").required("mobile is required"),current_location:se.b(),description:se.b()}),ce=function(){var e=Object(H.a)({initialValues:{first_name:"",last_name:"",mobile:"",current_location:"",description:"",image:""},validationSchema:le,onSubmit:function(e){var t=new FormData;e.image&&t.append("image",e.image,"image"),t.append("first_name",e.first_name),t.append("last_name",e.last_name),t.append("mobile",e.mobile),e.current_location&&t.append("current_location",e.current_location),e.description&&t.append("description",e.description),N.post("/profile",t,{"content-type":"multipart/form-data"}).then((function(e){return console.log("res",e)}),(function(e){return console.log("error",e)}))}});return r.a.createElement(ie,{formik:e})},ue=d.a.div.withConfig({displayName:"App__AlginCenter",componentId:"sc-1a7e97f-0"})(["display:flex;justify-content:center;align-items:center;height:100vh;"]);console.info("in develop auth routes dont work env:-","prod");var de=function(){return r.a.createElement(ue,null,r.a.createElement(D,{path:"/"}))},me=function(){return r.a.createElement("h2",null,"home Routes working fine")},pe=function(e){e.path;var t=e.children,a=Object(L.b)(),n=localStorage.getItem("token");return console.info("in develop auth routes dont work env:-","prod"),n?r.a.createElement("div",null,r.a.createElement(ue,null,t)):(a("/",{replace:!1}),r.a.createElement(ue,null,r.a.createElement(D,{path:"/"})))},ge=function(){return r.a.createElement(ue,null,"Page Not Found")},he=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(E,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null),r.a.createElement(L.a,null,r.a.createElement(de,{path:"/"}),r.a.createElement(pe,{path:"user"},r.a.createElement(ce,{path:"profile"}),r.a.createElement(me,{path:"home"})),r.a.createElement(ge,{path:"*"}))))}}]),a}(n.Component);a(163);i.a.render(r.a.createElement(he,null),document.getElementById("root"))}},[[133,1,2]]]);
//# sourceMappingURL=main.08390dae.chunk.js.map