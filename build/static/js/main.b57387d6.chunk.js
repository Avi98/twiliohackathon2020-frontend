(this["webpackJsonpsocial-media-frontend-b2c"]=this["webpackJsonpsocial-media-frontend-b2c"]||[]).push([[0],{123:function(e,t,a){e.exports=a.p+"static/media/default-profile.782adc2b.png"},138:function(e,t,a){e.exports=a(169)},143:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),i=a.n(o),s=a(76),l=a(77),c=a(129),u=a(126),d=a(16),m=(a(143),d.a.article.withConfig({displayName:"styles__Container",componentId:"sc-1qqttjd-0"})(["width:60%;border-radius:0.8rem;display:flex;box-shadow:0 2rem 2.4rem rgba(0,0,0,0.1);background-color:var(--base-white-color);@media (max-width:768px){--base-title-color:#feeeee;flex-direction:column;background-color:var(--base-green-color);width:100%;height:100%;align-items:center;justify-content:center;}@media (min-width:1200px){height:470px;}"])),p=d.a.div.withConfig({displayName:"styles__ImageSection",componentId:"sc-1qqttjd-1"})(["width:50%;background-color:var(--base-green-color);"]),g=d.a.section.withConfig({displayName:"styles__Section",componentId:"sc-1qqttjd-2"})(["color:var(--base-title-color);background-color:var(--c);margin-left:2em;position:relative;@media (max-width:768px){background-color:var(--base-green-color);}>h2{font-size:3.1em;font-weight:400;}>h3{font-size:2.4em;font-weight:400;}"]),f=d.a.button.withConfig({displayName:"styles__SubmitButton",componentId:"sc-1qqttjd-3"})(["background-color:var(--base-title-color);color:var(--base-white-color);padding:0.5rem 4.5rem;font-size:1em;font-weight:200;margin:40px 0 0 0;cursor:pointer;@media (max-width:768px){background-color:var(--base-button-color);color:var(--base-title-color);}&&&{>svg{height:20px;width:20px;}}"]),h=d.a.footer.withConfig({displayName:"styles__Footer",componentId:"sc-1qqttjd-4"})(["@media (min-width:768px){position:absolute;bottom:0;}"]),v=d.a.div.withConfig({displayName:"styles__FormCol",componentId:"sc-1qqttjd-5"})(["display:flex;flex-direction:column;margin-bottom:1em;.message{font-size:0.7em;}.link{font-weight:600;text-decoration:underline;cursor:pointer;}"]),b=a(206),w=a(200),E=Object(w.a)({root:{margin:"2% 0"}}),S=function(e){var t=E();return r.a.createElement(b.a,Object.assign({className:t.root},e))},y=function(e){var t=e.updateEmail,a=e.updatePassword,n=e.updateConfirmPassWord,o=e.updateUsername,i=e.state;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{id:"username",label:"User Name",value:i.username,onChange:function(e){return o(e.target.value)}}),r.a.createElement(S,{id:"email",label:"E-mail address",type:"email",value:i.email,onChange:function(e){return t(e.target.value)}}),r.a.createElement(S,{id:"password",label:"Password",type:"password",value:i.password,onChange:function(e){return a(e.target.value)}}),r.a.createElement(S,{id:"password",label:"confirm Password",value:i.confirmPassword,onChange:function(e){return n(e.target.value)}}))},O=function(e){var t=e.updatePassword,a=e.updateUsername,n=e.state;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{id:"userName",label:"User Name",value:n.username,onChange:function(e){return a(e.target.value)}}),r.a.createElement(S,{id:"password",label:"Password",type:"password",value:n.password,onChange:function(e){return t(e.target.value)}}))},x=a(50),_=a.n(x),j=a(94),k=a(24),P=a(13),U=a(119),C=a.n(U).a.create({baseURL:"".concat("https://whispering-hollows-69916.herokuapp.com","/api"),headers:{"X-Custom-Header":"foobar","Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}),F=function(){function e(t){var a=this;Object(s.a)(this,e),this.header={},this.getToken=function(){a.header&&(a.header=localStorage.getItem("token")?{headers:{Authorization:"token ".concat(localStorage.getItem("token"))}}:{})},this.header=t}return Object(l.a)(e,[{key:"post",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getToken(),C.post(e,t,Object(P.a)({},this.header,{},a)).then((function(e){return e.data}),(function(e){return console.error(e)}))}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getToken(),C.get(e,Object(P.a)({},this.header,{},t)).then((function(e){return e.data}),(function(e){return e}))}},{key:"put",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getToken(),C.put(e,t,Object(P.a)({},this.header,{},a)).then((function(e){return e.data}),(function(e){return e}))}}]),e}(),I=(localStorage.getItem("token")&&"token ".concat(localStorage.getItem("token")),new F),T=new F(!0),L=Object(n.createContext)({loading:!1,showLoading:void 0,showSuccessMessage:"",setShowSuccessMessage:void 0,toasterType:"info",setToasterType:void 0,setFullPageLoader:void 0,fullPageLoader:!1});L.displayName="UITriggerContext";var N=function(e){var t=e.children,a=Object(n.useState)(!1),o=Object(k.a)(a,2),i=o[0],s=o[1],l=Object(n.useState)(""),c=Object(k.a)(l,2),u=c[0],d=c[1],m=Object(n.useState)(""),p=Object(k.a)(m,2),g=p[0],f=p[1],h=Object(n.useState)(!1),v=Object(k.a)(h,2),b=v[0],w=v[1];return r.a.createElement(L.Provider,{value:{loading:i,showLoading:s,showSuccessMessage:u,setShowSuccessMessage:d,toasterType:g,setToasterType:f,setFullPageLoader:w,fullPageLoader:b}},r.a.createElement("div",null,"hellow"),t)},A=function(){var e=Object(n.useContext)(L),t=e.loading,a=e.showLoading;return{loading:t,toggleLoading:function(e){return a&&a(e)},showSuccessMessage:e.showSuccessMessage,setShowSuccessMessage:e.setShowSuccessMessage,toasterType:e.toasterType,setToasterType:e.setToasterType,setFullPageLoader:e.setFullPageLoader,fullPageLoader:e.fullPageLoader}},q=a(75),M={user:{id:localStorage.getItem("user_id"),email:"",userName:""},user_profile:{}},R=Object(n.createContext)({userSession:M,updateUserSession:void 0,saveUserProfile:void 0});R.displayName="Store";var W=function(e,t){switch(t.type){case"SET_USER":return Object(P.a)({},e,{user:t.value});case"SET_USER_PROFILE":return Object(P.a)({},e,{profile:t.value});default:return e}},D=function(e){var t=e.children,a=Object(n.useReducer)(W,M),o=Object(k.a)(a,2),i=o[0],s=o[1];return r.a.createElement(R.Provider,{value:{userSession:i,updateUserSession:function(e){localStorage.setItem("user_id",String(e.id)),s({type:"SET_USER",value:e})},saveUserProfile:function(e){s({type:"SET_USER_PROFILE",value:e})}}},t)},z=function(){var e=Object(n.useContext)(R);return{userSession:e.userSession,updateUserSession:e.updateUserSession,saveUserProfile:e.saveUserProfile}},B={email:"",password:"",confirmPassword:"",username:""},H=Object(P.a)({},B,{showLogin:!1,showSignUp:!0});function G(e,t){switch(t.type){case"UPDATE_EMAIL":return Object(P.a)({},e,{email:t.value});case"UPDATE_PASSWORD":return Object(P.a)({},e,{password:t.value});case"UPDATE_CONFIRM_PASSWORD":return Object(P.a)({},e,{confirmPassword:t.value});case"UPDATE_USERNAME":return Object(P.a)({},e,{username:t.value});case"SHOW_LOGIN":return Object(P.a)({},e,{showLogin:!0,showSignUp:!1});case"SHOW_SIGNUP":return Object(P.a)({},e,{showSignUp:!0,showLogin:!1});case"RESET_FORM":return Object(P.a)({},e,{},B);default:return e}}var J=a(205),V=function(e){var t=e.label,a=e.onClick,n=e.type,o=void 0===n?"submit":n,i=A().loading;return r.a.createElement(f,{type:o,onClick:a,disabled:i},i?r.a.createElement(J.a,{size:20}):t)},X=function(){var e=function(){var e=Object(n.useReducer)(G,H),t=Object(k.a)(e,2),a=t[0],r=t[1],o=A(),i=o.toggleLoading,s=o.setToasterType,l=o.setShowSuccessMessage,c=Object(q.b)(),u=z(),d=u.updateUserSession,m=u.saveUserProfile,p=function(){return r({type:"SHOW_LOGIN",value:null})},g=function(){var e=Object(j.a)(_.a.mark((function e(){var t,n,o,c,u;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),t=a.username,n=a.email,o=a.password,c={username:t,email:n,password:o},e.prev=3,e.next=6,I.post("/register",c);case 6:u=e.sent,i(!1),u.token&&(p(),s&&s("success"),l&&l("Account Created Successfully "),localStorage.setItem("token",u.token),r({type:"RESET_FORM",value:null})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("api request error",e.t0),i(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return{state:a,updateEmail:function(e){return r({type:"UPDATE_EMAIL",value:e})},updatePassword:function(e){return r({type:"UPDATE_PASSWORD",value:e})},updateConfirmPassWord:function(e){return r({type:"UPDATE_CONFIRM_PASSWORD",value:e})},updateUsername:function(e){return r({type:"UPDATE_USERNAME",value:e})},updateShowLogin:p,updateShowSignUp:function(){return r({type:"SHOW_SIGNUP",value:null})},submitLoginForm:g,submitSignIn:function(){var e=Object(j.a)(_.a.mark((function e(){var t,n,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),t=a.username,a.email,n=a.password,r={username:t,password:n},e.prev=3,i(!1),e.next=7,I.post("/login",r).then(function(){var e=Object(j.a)(_.a.mark((function e(t){var a,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.token){e.next=9;break}return a={headers:{Authorization:"token ".concat(t.token)}},d&&d(t.user),localStorage.setItem("token",t.token),e.next=6,I.get("/profile",a);case 6:(n=e.sent).profile?(m&&m(n.profile),c("user/home",{replace:!0})):c("user/profile");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),i(!1),console.error("api login error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}()}}(),t=e.updateEmail,a=e.updatePassword,o=e.updateConfirmPassWord,i=e.updateUsername,s=e.updateShowLogin,l=e.updateShowSignUp,c=e.state,u=e.submitLoginForm,d=e.submitSignIn;return r.a.createElement(m,null,r.a.createElement(p,null),r.a.createElement(g,null,r.a.createElement(v,null,r.a.createElement("h2",null,"Welcome to our community"),r.a.createElement("h3",null,"Lets create an account"),c.showSignUp?r.a.createElement(y,{state:c,updateEmail:t,updatePassword:a,updateConfirmPassWord:o,updateUsername:i,updateShowLogin:s,updateShowSignUp:l,submitLoginForm:u}):r.a.createElement(O,{state:c,updateEmail:t,updatePassword:a,updateConfirmPassWord:o,updateUsername:i,updateShowLogin:s,updateShowSignUp:l,submitSignIn:d}),r.a.createElement(h,null,c.showSignUp?r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{label:"Sign Up",onClick:u}),r.a.createElement("p",{className:"message"},"Already have an account? ",r.a.createElement("span",{className:"link",onClick:s},"Log in")," ")):r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{label:"Log In",onClick:d}),r.a.createElement("p",{className:"message"},"Don't have Account? ",r.a.createElement("span",{className:"link",onClick:l},"Sign Up")," "))))))},Y=a(207),$=a(209);function K(e){return r.a.createElement(Y.a,Object.assign({elevation:6,variant:"filled"},e))}function Q(){var e=A();return r.a.createElement($.a,{open:""!==e.showSuccessMessage,autoHideDuration:1e3,onClose:function(){return e.setShowSuccessMessage&&e.setShowSuccessMessage("")}},function(){switch(e.toasterType){case"success":return r.a.createElement(K,{severity:"success"},e.showSuccessMessage);case"info":return r.a.createElement(K,{severity:"info"},e.showSuccessMessage);case"warning":return r.a.createElement(K,{severity:"warning"},e.showSuccessMessage);case"error":return r.a.createElement(K,{severity:"error"},e.showSuccessMessage)}}())}var Z=a(81),ee=a(127),te=a(125),ae=a(97),ne=d.a.div.withConfig({displayName:"imageUploadstyles__AvatarContainer",componentId:"sc-1g3mbi1-0"})(["position:relative;max-width:50px;"]),re=d.a.div.withConfig({displayName:"imageUploadstyles__EditIcon",componentId:"sc-1g3mbi1-1"})(["position:absolute;left:70px;z-index:2;>input{height:110px;width:140px;position:absolute;right:0px;opacity:0;}>label{display:inline-block;width:34px;height:34px;margin-bottom:0;border-radius:100%;background:#FFFFFF;border:1px solid transparent;box-shadow:0px 2px 4px 0px rgba(0,0,0,0.12);cursor:pointer;font-weight:normal;transition:all .2s ease-in-out;&:hover{background:#f1f1f1;border-color:#d6d6d6;}::after{content:\"\f040\";font-family:'FontAwesome';color:#757575;position:absolute;top:10px;left:0;right:0;text-align:center;margin:auto;}}"]),oe=d.a.div.withConfig({displayName:"imageUploadstyles__Preview",componentId:"sc-1g3mbi1-2"})(["width:92px;height:92px;position:relative;border-radius:100%;border:6px solid #F8F8F8;box-shadow:0px 2px 4px 0px rgba(0,0,0,0.1);"]),ie=d.a.img.withConfig({displayName:"imageUploadstyles__SelectedImg",componentId:"sc-1g3mbi1-3"})(["border-radius:100%;background-size:cover;background-repeat:no-repeat;background-position:center;height:100%;width:100%;}"]),se=a(123),le=a.n(se),ce=function(e){var t=e.formik,a=Object(n.useState)({file:{},imagePreviewUrl:null}),o=Object(k.a)(a,2),i=o[0],s=o[1];return r.a.createElement(ne,null,r.a.createElement(re,null,r.a.createElement("input",{accept:".png, jpg, .jpeg",type:"file",onChange:function(e){var a=t.setFieldValue;e.preventDefault();var n=new FileReader,r=e.target.files[0];n.onloadend=function(){"string"===typeof n.result&&s({file:r,imagePreviewUrl:n.result})},a("image",r),n.readAsDataURL(r)}}),r.a.createElement("label",null)),r.a.createElement(oe,null,r.a.createElement(ie,{src:i.imagePreviewUrl?i.imagePreviewUrl:le.a,alt:" profile image"})))},ue=a(210);function de(){var e=Object(ae.a)(["\n    display:grid;\n    grid-template-rows: 2fr 1fr 1fr 1fr 1fr 1fr 2fr;\n    justify-content:space-between;\n    align-items:center;\n    grid-gap: 20px;\n    .image-position{\n        margin-left: 20px;\n    }\n"]);return de=function(){return e},e}function me(){var e=Object(ae.a)(["\n    padding: 10%;\n    justify-content: center;\n    color: var(--base-title-color);\n    display:flex;\n    flex-direction: column;\n    align-items:center;\n    justify-content:center;\n    align-self: center;\n    @media only screen and (min-width: 600px) {\n        width: 450px;\n    }\n    \n"]);return me=function(){return e},e}var pe=Object(d.a)(m)(me()),ge=d.a.form(de()),fe=Object(w.a)((function(e){return Object(ue.a)({root:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"650px"}})})),he=function(e){var t,a,n,o,i,s,l,c,u,d,m,p,g,f,h,v,w,E,S,y,O=e.formik,x=fe();return r.a.createElement(pe,null,r.a.createElement("h2",null,"Upload Your Profile"),r.a.createElement(ge,{className:x.root,onSubmit:O.handleSubmit},r.a.createElement("div",{className:"image-position"},r.a.createElement(ce,{formik:O})),r.a.createElement(b.a,Object.assign({required:!0,id:"standard-required",error:Boolean((null===(t=O.touched)||void 0===t?void 0:t.first_name)&&(null===(a=O.errors)||void 0===a?void 0:a.first_name)),helperText:(null===(n=O.touched)||void 0===n?void 0:n.first_name)&&(null===(o=O.errors)||void 0===o?void 0:o.first_name),fullWidth:!0,label:"First Name"},O.getFieldProps("first_name"))),r.a.createElement(b.a,Object.assign({required:!0,id:"standard-required2",error:Boolean((null===(i=O.touched)||void 0===i?void 0:i.last_name)&&(null===(s=O.errors)||void 0===s?void 0:s.last_name)),helperText:(null===(l=O.touched)||void 0===l?void 0:l.last_name)&&(null===(c=O.errors)||void 0===c?void 0:c.last_name),fullWidth:!0,label:"Last Name"},O.getFieldProps("last_name"))),r.a.createElement(b.a,Object.assign({required:!0,type:"number",id:"standard-required",error:Boolean((null===(u=O.touched)||void 0===u?void 0:u.mobile)&&(null===(d=O.errors)||void 0===d?void 0:d.mobile)),helperText:(null===(m=O.touched)||void 0===m?void 0:m.mobile)&&(null===(p=O.errors)||void 0===p?void 0:p.mobile),fullWidth:!0,label:"Mobile"},O.getFieldProps("mobile"))),r.a.createElement(b.a,Object.assign({id:"standard-required",fullWidth:!0,label:"Current Location",error:(null===(g=O.touched)||void 0===g?void 0:g.current_location)&&Boolean(null===(f=O.errors)||void 0===f?void 0:f.current_location),helperText:(null===(h=O.touched)||void 0===h?void 0:h.current_location)&&(null===(v=O.errors)||void 0===v?void 0:v.current_location)},O.getFieldProps("current_location"))),r.a.createElement(b.a,Object.assign({id:"standard-required2",fullWidth:!0,label:"Description",error:Boolean((null===(w=O.touched)||void 0===w?void 0:w.description)&&(null===(E=O.errors)||void 0===E?void 0:E.description)),helperText:(null===(S=O.touched)||void 0===S?void 0:S.description)&&(null===(y=O.errors)||void 0===y?void 0:y.description)},O.getFieldProps("description"))),r.a.createElement(V,{label:"Submit",type:"submit"})))},ve=a(51),be=ve.a({first_name:ve.b().max(20,"Must be not more than 20 letters").required(" name is required"),last_name:ve.b().max(20,"Must be not more than 20 letters").required(" name is required"),mobile:ve.b().matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Invalid mobile number").required("mobile is required"),current_location:ve.b(),description:ve.b()}),we=function(){var e=z().userSession,t=Object(te.a)({initialValues:{first_name:"",last_name:"",mobile:"",current_location:"",description:"",image:""},validationSchema:be,onSubmit:function(t){var a=new FormData;t.image&&a.append("image",t.image,t.image.name),a.append("first_name",t.first_name),a.append("last_name",t.last_name),a.append("mobile",t.mobile),t.current_location&&a.append("current_location",t.current_location),t.description&&a.append("description",t.description);var n=Object(ee.a)(a).reduce((function(e,t){var a=Object(k.a)(t,2),n=a[0],r=a[1];return Object(P.a)({},e,Object(Z.a)({},n,r))}),{});T.post("/profile",Object(P.a)({},n,{user_id:Number(null===e||void 0===e?void 0:e.user.id)}),{"content-type":"multipart/form-data"}).then((function(e){return console.log("res",e)}),(function(e){return console.log("error",e)}))}});return r.a.createElement(he,{formik:t})},Ee=d.a.div.withConfig({displayName:"App__AlginCenter",componentId:"sc-1a7e97f-0"})(["display:flex;justify-content:center;align-items:center;height:100vh;"]);console.info("in develop auth routes dont work env:-","prod");var Se=function(){return r.a.createElement(Ee,null,r.a.createElement(X,{path:"/"}))},ye=function(){return r.a.createElement("h2",null,"home Routes working fine")},Oe=function(e){e.path;var t=e.children,a=Object(q.b)(),n=localStorage.getItem("token");return console.info("in develop auth routes dont work env:-","prod"),n?r.a.createElement("div",null,r.a.createElement(Ee,null,t)):(a("/",{replace:!1}),r.a.createElement(Ee,null,r.a.createElement(X,{path:"/"})))},xe=function(){return r.a.createElement(Ee,null,"Page Not Found")},_e=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(D,null,r.a.createElement(N,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,null),r.a.createElement(q.a,null,r.a.createElement(Se,{path:"/"}),r.a.createElement(Oe,{path:"user"},r.a.createElement(we,{path:"profile"}),r.a.createElement(ye,{path:"home"})),r.a.createElement(xe,{path:"*"})))))}}]),a}(n.Component);a(168);i.a.render(r.a.createElement(_e,null),document.getElementById("root"))}},[[138,1,2]]]);
//# sourceMappingURL=main.b57387d6.chunk.js.map